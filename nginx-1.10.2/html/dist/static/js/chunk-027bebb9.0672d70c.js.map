{"version":3,"sources":["webpack:///./src/views/register/roomDetail.vue?634e","webpack:///./src/views/register/roomDetail.vue?c47f","webpack:///src/views/register/roomDetail.vue","webpack:///./src/views/register/roomDetail.vue?ee8a","webpack:///./src/views/register/roomDetail.vue","webpack:///./src/api/house.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","roomKey","userNum","on","$event","$router","back","staticStyle","onRefresh","model","value","callback","$$v","refreshing","expression","finished","list","length","onLoad","loading","_l","item","index","key","staticClass","toInfo","staticUrl","F_IdentityCardPhoto","_v","_s","F_Name","F_Sex","F_MobilePhone","F_IDCard","F_CheckInTime","stopPropagation","clickTui","F_CheckInRecordID","toChange","toAdd","clickAllTui","$route","query","F_HotelRoomID","staticRenderFns","component","openhome","params","request","url","method","hotellist","homeList","checkOut","data","allcheckOut","roomallcheckOut","getInfo","roomapartment","createdtraveller","recompose","details","update","recomposeroom","allrecomposeroom"],"mappings":"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","file":"static/js/chunk-027bebb9.0672d70c.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roomDetail.vue?vue&type=style&index=0&id=4dedf892&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roomDetail.vue?vue&type=style&index=0&id=4dedf892&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"left-arrow\":\"\",\"title\":'房号 ' + _vm.roomKey + ' ( ' + _vm.userNum + ' )'},on:{\"click-left\":function($event){return _vm.$router.back()}}}),_c('div',{staticStyle:{\"overflow-y\":\"auto\",\"height\":\"calc(100% - 46px)\"}},[_c('van-pull-refresh',{attrs:{\"success-text\":\"刷新成功\"},on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.refreshing),callback:function ($$v) {_vm.refreshing=$$v},expression:\"refreshing\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":_vm.list.length==0?'没有更多了':''},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.toInfo(item)}}},[_c('img',{staticClass:\"item_img\",attrs:{\"src\":_vm.staticUrl+item.F_IdentityCardPhoto,\"alt\":\"\"}}),_c('div',{staticClass:\"item_info\"},[_c('p',[_vm._v(_vm._s(item.F_Name)+\" \"),_c('img',{attrs:{\"src\":(\"/images/\" + (item.F_Sex == '男' ? 'man' : 'woman') + \".png\"),\"alt\":\"\"}})]),_c('p',[_vm._v(_vm._s(item.F_MobilePhone))]),_c('p',[_vm._v(_vm._s(item.F_IDCard))]),_c('p',[_vm._v(\"入住时间: \"+_vm._s(item.F_CheckInTime))]),_c('van-button',{staticClass:\"remove\",attrs:{\"color\":\"#F56C6C\",\"size\":\"small\",\"block\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.clickTui(item.F_Name,item.F_CheckInRecordID)}}},[_vm._v(\"退房\")]),_c('van-button',{staticClass:\"change\",attrs:{\"color\":\"#409EFF\",\"size\":\"small\",\"block\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toChange(item.F_CheckInRecordID)}}},[_vm._v(\"换房\")])],1)])}),0),_c('div',{staticClass:\"jus-c\",staticStyle:{\"padding-top\":\"2rem\"}},[_c('van-button',{staticStyle:{\"width\":\"7rem\",\"margin-right\":\"0.8rem\"},attrs:{\"color\":\"#409EFF\",\"size\":\"normal\"},on:{\"click\":_vm.toAdd}},[_vm._v(\"增加同住人\")]),_c('van-button',{staticStyle:{\"width\":\"7rem\",\"margin-right\":\"0.8rem\"},attrs:{\"color\":\"#409EFF\",\"size\":\"normal\"},on:{\"click\":_vm.clickAllTui}},[_vm._v(\"全部退房\")]),_c('van-button',{staticStyle:{\"width\":\"7rem\"},attrs:{\"color\":\"#409EFF\",\"size\":\"normal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toChange(_vm.$route.query.F_HotelRoomID,1)}}},[_vm._v(\"全部换房\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <van-nav-bar @click-left=\"$router.back()\" left-arrow :title=\"'房号 ' + roomKey + ' ( ' + userNum + ' )'\"></van-nav-bar>\r\n\r\n        <div style=\"overflow-y:auto;height:calc(100% - 46px)\">\r\n            <van-pull-refresh v-model=\"refreshing\" @refresh=\"onRefresh\"  success-text=\"刷新成功\">\r\n                <van-list\r\n                    v-model=\"loading\"\r\n                    :finished=\"finished\"\r\n                    :finished-text=\"list.length==0?'没有更多了':''\"\r\n                    @load=\"onLoad\"\r\n                >\r\n                    <div class=\"item\" v-for=\"(item,index) in list\" :key=\"index\" @click=\"toInfo(item)\">\r\n                        <img class=\"item_img\" :src=\"staticUrl+item.F_IdentityCardPhoto\" alt=\"\">\r\n                        <div class=\"item_info\">\r\n                            <p>{{item.F_Name}} <img :src=\"`/images/${item.F_Sex == '男' ? 'man' : 'woman'}.png`\" alt=\"\"></p>\r\n                            <p>{{item.F_MobilePhone}}</p>\r\n                            <p>{{item.F_IDCard}}</p>\r\n                            <p>入住时间: {{item.F_CheckInTime}}</p>\r\n\r\n                            <van-button @click.stop=\"clickTui(item.F_Name,item.F_CheckInRecordID)\" class=\"remove\" color=\"#F56C6C\" size=\"small\" block>退房</van-button>\r\n                            <van-button @click.stop=\"toChange(item.F_CheckInRecordID)\" class=\"change\" color=\"#409EFF\" size=\"small\" block>换房</van-button>\r\n                        </div>\r\n                    </div>\r\n                </van-list>\r\n\r\n                <div class=\"jus-c\" style=\"padding-top: 2rem;\">\r\n                    <van-button style=\"width:7rem;margin-right:0.8rem\" color=\"#409EFF\" size=\"normal\" @click=\"toAdd\">增加同住人</van-button>\r\n                    <van-button style=\"width:7rem;margin-right:0.8rem\" color=\"#409EFF\" size=\"normal\" @click=\"clickAllTui\">全部退房</van-button>\r\n                    <van-button style=\"width:7rem;\" color=\"#409EFF\" size=\"normal\" @click.stop=\"toChange($route.query.F_HotelRoomID,1)\">全部换房</van-button>\r\n                </div>\r\n            </van-pull-refresh>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast,Dialog } from 'vant';\r\nimport {roomapartment,tenantry,homeList,checkOut,allcheckOut} from \"@/api/house\";\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                list: [],\r\n                loading: false,\r\n                finished: false,\r\n                refreshing: false,\r\n                page:0,\r\n                imgUrl:'',\r\n                roomKey:\"\",//房号\r\n                userNum:\"\",//房间数\r\n\r\n            }\r\n        },\r\n        filters: {\r\n            // formatterPhone: function(value) {\r\n            //     return value.toString().substring(0,3) + \"****\" + value.toString().substring(7)\r\n            // },\r\n            // formatterIdcard: function(value) {\r\n            //     return value.toString().substring(0,6) + \"********\" + value.toString().substring(14)\r\n            // }\r\n        },\r\n        created(){\r\n               \r\n             this.roomapartment();\r\n            this.imgUrl =this.$img\r\n        },\r\n          computed: {\r\n          staticUrl() {\r\n            //静态资源地址\r\n            return window.staticUrl;\r\n          },\r\n        },\r\n        methods: {\r\n\r\n             //房客列表\r\n            homeList(){\r\n                let parans = {\r\n                       hotel_room_id: this.$route.query.F_HotelRoomID,\r\n                     };\r\n                homeList(parans).then((res) =>{\r\n                    console.log(res.list)\r\n                    this.list =  res.list;\r\n                    this.userNum=res.total\r\n                    // this.refreshing = false;\r\n                    this.loading = false;\r\n                    this.finished = true;\r\n                }).catch((err)=>{\r\n                    console.log(err)\r\n                })\r\n            },\r\n            //房客退房\r\n            checkOut(re){\r\n            let parans = {\r\n                check_in_record_id: re,\r\n                };\r\n                checkOut(parans).then((res) =>{\r\n                   this.homeList()\r\n                   console.log(res);\r\n                }).catch((err)=>{\r\n                    \r\n                })\r\n            },\r\n           \r\n            //房屋\r\n            roomapartment(){\r\n                    let parans = {\r\n                       hotel_room_id: this.$route.query.F_HotelRoomID,\r\n                     };\r\n                     roomapartment(parans).then((res) => {\r\n                         if(res.code==0){\r\n                              this.roomKey=res.data.F_RoomNumber;//房号\r\n                            //   this.userNum=res.data.F_CheckInPersonalNum;//房间数\r\n                         }else{\r\n\r\n                             this.$api.msg('错误错误错误错误错误错误错误错误')\r\n                        }\r\n                });\r\n        \r\n            },\r\n            toChange(id,index){\r\n\r\n                if(this.list.length==0){\r\n                    this.$api.msg('没有人员换房')\r\n                }else{\r\n                this.$router.push({\r\n                    path:\"/register/changeRoom\",\r\n                    query:{\r\n                        F_CheckInRecordID:id,\r\n                        all:index==1?1:0\r\n                    }\r\n                })\r\n                }\r\n            },\r\n            toInfo(data){\r\n                this.$router.push({\r\n                    path:\"/register/createdparticulars\",\r\n                    query:{\r\n                        // info:JSON.stringify(data)\r\n                        F_CheckInRecordID:data.F_CheckInRecordID,F_HotelRoomID:this.$route.query.F_HotelRoomID,room:this.roomKey\r\n                    }\r\n                })\r\n            },\r\n            toAdd(){\r\n                if(this.list.length==3 ){\r\n                    this.$api.msg('入住人数不得多于3人')\r\n                }else{\r\n\r\n                this.$router.push({\r\n                    path:\"/register/createdhotel\",\r\n                    query:{\r\n                        F_HotelRoomID:this.$route.query.F_HotelRoomID,room:this.roomKey\r\n                    }\r\n                })\r\n                }\r\n            },\r\n\r\n            //全部退房\r\n            clickAllTui(){\r\n                if(this.list.length==0){\r\n                    this.$api.msg('没有人员退房')\r\n                }else{\r\n                Dialog.confirm({\r\n                    title: '退房',\r\n                    message: '确定将' + this.$route.query.roomKey + '房间退房吗？',\r\n                    })\r\n                .then(() => {\r\n\r\n                    let data ={\r\n                       hotel_room_id:this.$route.query.F_HotelRoomID\r\n                    }\r\n                  allcheckOut(data).then((res)=>{\r\n                          // on confirm\r\n                    Toast.loading({\r\n                        message: '加载中...',\r\n                        forbidClick: true,\r\n                        duration:1000,\r\n                        onClose:() =>{\r\n                            Toast.success('退房成功');\r\n                            this.homeList()\r\n                        }\r\n                    });\r\n\r\n                  })\r\n\r\n                })\r\n                .catch(() => {\r\n                    // on cancel\r\n                });\r\n                }\r\n            },\r\n            clickTui(name,recordId){\r\n                Dialog.confirm({\r\n                    title: '退房',\r\n                    message: '确定将' + name + '从房间退房吗？',\r\n                    })\r\n                .then(() => {\r\n                    // on confirm\r\n                    Toast.loading({\r\n                        message: '加载中...',\r\n                        forbidClick: true,\r\n                        duration:1000,\r\n                        onClose:() =>{\r\n                            Toast.success('退房成功');\r\n                            // this.clickCancel()\r\n                            this.checkOut(recordId)\r\n                        }\r\n                    });\r\n                })\r\n                .catch(() => {\r\n                    // on cancel\r\n                    console.log(123)\r\n                });\r\n            },\r\n            onLoad() {\r\n                // setTimeout(() => {\r\n                //     let arr = [{\r\n                //         name:\"李世清\",\r\n                //         photo:\"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fpic4.zhimg.com%2Fv2-b3cda40807b5ec9ef3ec091535efd76b_b.jpg&refer=http%3A%2F%2Fpic4.zhimg.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1613632382&t=24975283e254c74f282151bede16a831\",\r\n                //         sex:\"1\",\r\n                //         phone:\"18132314856\",\r\n                //         idcard:\"360103199810151258\",\r\n                //         time:\"2021-01-18 12:36:25\"\r\n                //     },{\r\n                //         name:\"王振\",\r\n                //         photo:\"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1075164951,421927281&fm=26&gp=0.jpg\",\r\n                //         sex:\"1\",\r\n                //         phone:\"18314568514\",\r\n                //         idcard:\"360102198812146578\",\r\n                //         time:\"2021-01-16 17:34:55\"\r\n                //     },{\r\n                //         name:\"汤思琴\",\r\n                //         photo:\"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fpic.jj20.com%2Fup%2Fallimg%2Fmn01%2F041119235349%2F1Z411235349-0.jpg&refer=http%3A%2F%2Fpic.jj20.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1613631349&t=c8b6df40710073607a761f4fe1a64ae9\",\r\n                //         sex:\"0\",\r\n                //         phone:\"13315486521\",\r\n                //         idcard:\"360103199705261548\",\r\n                //         time:\"2021-01-16 09:42:24\"\r\n                //     },{\r\n                //         name:\"刘妍卿\",\r\n                //         photo:\"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fpic1.win4000.com%2Fmobile%2F2018-05-10%2F5af40f5bbac79.jpg&refer=http%3A%2F%2Fpic1.win4000.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1613631349&t=8dfaab35dec1561ed54a28625df6ee9f\",\r\n                //         sex:\"0\",\r\n                //         phone:\"15612549856\",\r\n                //         idcard:\"360103199706041228\",\r\n                //         time:\"2021-01-15 14:53:43\"\r\n                //     }]\r\n                //     this.list = arr.slice(0,this.$route.query.userNum);\r\n                //     this.refreshing = false;\r\n\r\n                //     this.loading = false;\r\n                //     this.finished = true;\r\n                // }, 1000);\r\n               this.homeList();\r\n\r\n            },\r\n            onRefresh() {\r\n                // 清空列表数据\r\n                this.finished = true;\r\n                \r\n                // 重新加载数据\r\n                // 将 loading 设置为 true，表示处于加载状态\r\n                this.loading = true;\r\n                this.homeList();\r\n\r\n                this.refreshing = false;\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.van-pull-refresh{\r\n    min-height: 100%;\r\n}\r\n\r\n.item{\r\n    overflow: hidden;\r\n    width: calc(100% - 1.6rem);\r\n    padding:0.8rem;\r\n    border-bottom: 1px solid #eee;\r\n    .item_img{\r\n        width: 5rem;\r\n        height: 6rem;\r\n        display: block;\r\n        float: left;\r\n    }\r\n    .item_info{\r\n        float: left;\r\n        padding-left: 0.8rem;\r\n        position: relative;\r\n        width: calc(100% - 5.8rem);\r\n        p{\r\n            line-height: 1.5rem;\r\n            margin: 0;\r\n            font-size: 0.8rem;\r\n            img{\r\n                width:0.85rem;\r\n                height:0.8rem;\r\n                position: relative;\r\n                top: 0.1rem;\r\n            }\r\n        }\r\n        .remove{\r\n            position: absolute;\r\n            right: 0;\r\n            top: 0;\r\n            width: 4.2rem;\r\n        }\r\n        .change{\r\n            position: absolute;\r\n            right: 0;\r\n            top: 3rem;\r\n            width: 4.2rem;\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roomDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roomDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./roomDetail.vue?vue&type=template&id=4dedf892&scoped=true&\"\nimport script from \"./roomDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./roomDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./roomDetail.vue?vue&type=style&index=0&id=4dedf892&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4dedf892\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\nimport {getToken} from \"@/utils/auth\";\r\nimport axios from 'axios'\r\nimport qs from 'qs'\r\n\r\n\r\n// 企业端\r\n\r\n//房间列表\r\nexport function openhome(params) {\r\n  return request({\r\n    url: 'enterprise/home', \r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n\r\n\r\n\r\n//房间列表\r\nexport function hotellist(params) {\r\n  return request({\r\n    url: 'hotel/hotel_room/list', \r\n    method: 'get',\r\n    params\r\n\r\n  })\r\n}\r\n\r\n// 房客列表\r\nexport function homeList(params){\r\n  return request({\r\n    url:'hotel/check_in_traveller/list',\r\n    method:'get',\r\n    params\r\n  })\r\n}\r\n//退房\r\nexport function checkOut(data){\r\n  return request({\r\n    url:'hotel/check_in_traveller',\r\n    method:'delete',\r\n    data\r\n  })\r\n}\r\n\r\n//全部退所有人\r\nexport function allcheckOut(data){\r\n  return request({\r\n    url:'hotel/check_in_traveller/list',\r\n    method:'delete',\r\n    data\r\n  })\r\n}\r\n\r\n\r\n//全部房间所有人\r\nexport function roomallcheckOut(data){\r\n  return request({\r\n    url:'hotel/hotel_room/list',\r\n    method:'delete',\r\n    data\r\n  })\r\n}\r\n\r\n\r\n// 详情\r\nexport function getInfo(params){\r\n  return request({\r\n    url: 'hotel/check_in_traveller', \r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n//房间\r\nexport function roomapartment(params) {\r\n    return request({\r\n      url: 'hotel/hotel_room', \r\n      method: 'get',\r\n      params\r\n    })\r\n  }\r\n\r\n// 房客列表 \r\n  export function tenantry(params) {\r\n    console.log(params)\r\n    return request({\r\n      url: 'hotel/checkIn_record/list', \r\n      method: 'get',\r\n      params\r\n    })\r\n  }\r\n\r\n\r\n  // 新增人员\r\nexport function createdtraveller(data) {\r\n  return request({\r\n    url: 'hotel/check_in_traveller',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n\r\n// 修改房屋信息\r\nexport function recompose(data) {\r\n  return request({\r\n    url:\"hotel/check_in_traveller\",\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n\r\n\r\n// 房屋详情\r\nexport function details(params) {\r\n  return request({\r\n    url: 'hotel/check_in_traveller',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n\r\n// 上传图片\r\nexport function update(data) {\r\n    return request({\r\n      url: 'enterprise/update', \r\n      method: 'post',\r\n      data\r\n    })\r\n  }\r\n\r\n\r\n\r\n// 换房 \r\nexport function recomposeroom(data) {\r\n  return request({\r\n    url:\"hotel/traveller_hotel_room\",\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n// 批量换房 \r\nexport function allrecomposeroom(data) {\r\n  return request({\r\n    url:\"hotel/check_in_traveller/list\",\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n\r\n//楼栋详情\r\n  export function Building(params) {\r\n    return request({\r\n      url: '/api/Building',\r\n      method: 'get',\r\n      params\r\n    })\r\n  }\r\n\r\n\r\n\r\n\r\n// 修改楼栋信息\r\nexport function Buildinput(id,data) {\r\n  return request({\r\n    // url: '/api/Building',\r\n    url:`/api/Building/${id}`,\r\n    method: 'put',\r\n    data\r\n \r\n  })\r\n}\r\n\r\n// 删除楼栋信息\r\n\r\nexport function Buildindelete(id) {\r\n  return request({\r\n    url: `/api/Building/${id}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n// 楼栋搜索\r\n\r\nexport function Buildingselete(params) {\r\n  return request({\r\n    url: '/api/Building',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n\r\n\r\n\r\n\r\n//图片上传\r\n\r\nexport function Upload(data) {\r\n  // return axios({\r\n  //   url: 'http://192.168.1.88:8086/api/Upload',\r\n  //   method: 'post',\r\n  //   data,\r\n  //   // headers:{\r\n  //   //   'Authorization':\"Token \" + getToken()\r\n  //   // }\r\n  // })\r\n  return request({\r\n    url: '/api/Upload',\r\n    method: 'post',\r\n    data,\r\n    // headers:{\r\n    //   'Authorization':\"Token \" + getToken()\r\n    // }\r\n  })\r\n}\r\n\r\n\r\n//根据楼栋ID返回该楼栋下所有的房屋列表\r\n\r\nexport function House(params) {\r\n  return request({\r\n    url: '/api/House',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n\r\n//添加房屋\r\n\r\nexport function addHouse(data) {\r\n  return request({\r\n    url: '/api/House',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n\r\n//关键字搜索房屋\r\n\r\nexport function searchHouse(params) {\r\n  return request({\r\n    url: '/api/House',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n\r\n\r\n//返回指定ID的房屋信息\r\n\r\nexport function Houseshowid(id) {\r\n  return request({\r\n    url:`/api/House/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n//刪除房屋\r\n\r\nexport function deleteHouse(id) {\r\n  return request({\r\n    url:`/api/House/${id}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n// 修改房屋信息\r\nexport function modification(id,data) {\r\n  return request({\r\n    url:`/api/House/${id}`,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n\r\n\r\n"],"sourceRoot":""}