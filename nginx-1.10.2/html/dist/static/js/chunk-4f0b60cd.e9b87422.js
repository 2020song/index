(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f0b60cd"],{"133c":function(t,e,n){},"461e":function(t,e,n){"use strict";var o=n("133c"),a=n.n(o);a.a},edd5:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"padding-top":"46px"}},[n("van-nav-bar",{attrs:{"left-arrow":"",title:"所有房间（ "+t.baseDatas.length+" ）","right-text":"换房"},on:{"click-left":function(e){return t.$router.back()},"click-right":t.clickChange}}),n("div",{staticStyle:{"overflow-y":"auto",height:"calc(100% - 46px)"},attrs:{id:"scrollBox"}},[n("van-tabs",{staticClass:"tabs",attrs:{color:"#02A7F0",type:"card"},on:{change:t.changeTab},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("van-tab",{attrs:{name:"0",title:"全部"}}),n("van-tab",{attrs:{name:"1",title:"已入住"}}),n("van-tab",{attrs:{name:"2",title:"闲置"}})],1),n("p",{staticClass:"zhushi"},[n("span",{staticStyle:{color:"#F56C6C"}},[n("van-icon",{attrs:{name:"wap-home"}}),t._v(" 已入住")],1),n("span",{staticStyle:{color:"#67C23A"}},[n("van-icon",{attrs:{name:"wap-home"}}),t._v(" 闲置")],1)]),n("div",{staticClass:"content"},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[n("div",{staticClass:"contentBox"},t._l(t.baseDatas,(function(e,o){return n("div",{key:o,staticClass:"item",style:{backgroundColor:e.F_CheckInPersonalNum>0?"#F56C6C":"#67C23A"},on:{click:function(n){return t.clickItem(e,o)}}},[n("van-radio",{attrs:{"icon-size":"18px","checked-color":"#02A7F0",name:e.F_RoomNumber,shape:"square"},model:{value:t.activeRoom,callback:function(e){t.activeRoom=e},expression:"activeRoom"}}),n("p",[t._v(t._s(e.F_RoomNumber))]),n("p",[t._v("("+t._s(e.F_CheckInPersonalNum)+"人)")])],1)})),0)])],1),n("div",{staticStyle:{width:"calc(100% - 1.6rem)",margin:"1rem auto","text-align":"center"}})],1)],1)},a=[],c=(n("99af"),n("2909")),r=n("d399"),i=n("2241"),l=n("f803"),s={data:function(){return{active:0,baseDatas:[],activeRoom:"",showCheckbox:!1,loading:!1,finished:!1,page:0,F_HotelRoomID:""}},methods:{recomposeroom:function(){},clickChange:function(){var t=this;""==this.activeRoom?Object(r["a"])("请选择房间换房"):i["a"].confirm({title:"换房",message:"确定和"+this.activeRoom+"房间换房吗？"}).then((function(){if(0==t.$route.query.all){var e={check_in_record_id:t.$route.query.F_CheckInRecordID,hotel_room_id:t.F_HotelRoomID};Object(l["k"])(e).then((function(e){0==e.code?r["a"].loading({message:"加载中...",forbidClick:!0,duration:1e3,onClose:function(){r["a"].success("换房成功"),t.$router.back()}}):t.$api.msg(e.msg)}))}else{var n={after_hotel_room_id:t.F_HotelRoomID,hotel_room_id:t.$route.query.F_CheckInRecordID};Object(l["b"])(n).then((function(e){0==e.code?r["a"].loading({message:"加载中...",forbidClick:!0,duration:1e3,onClose:function(){r["a"].success("换房成功"),t.$router.back()}}):t.$api.msg(e.msg)}))}})).catch((function(){}))},onLoad:function(){var t=this;this.page++;var e={page:this.page,check_in_personal_num:0==this.active?"":1==this.active?1:0};Object(l["h"])(e).then((function(e){0==e.code?(console.log(e.list),t.baseDatas=[].concat(Object(c["a"])(t.baseDatas),Object(c["a"])(e.list)),t.loading=!1,e.list.length<10&&(t.finished=!0)):t.$api.msg(e.msg)}))},clickItem:function(t,e){this.activeRoom=t.F_RoomNumber,this.F_HotelRoomID=t.F_HotelRoomID},changeTab:function(t){this.finished=!1,this.page=0,this.baseDatas=[]},getRooms:function(){}},mounted:function(){this.baseData=this.getRooms()}},u=s,h=(n("461e"),n("2877")),d=Object(h["a"])(u,o,a,!1,null,"2acbfeb4",null);e["default"]=d.exports},f803:function(t,e,n){"use strict";n.d(e,"i",(function(){return a})),n.d(e,"h",(function(){return c})),n.d(e,"g",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return l})),n.d(e,"l",(function(){return s})),n.d(e,"f",(function(){return u})),n.d(e,"m",(function(){return h})),n.d(e,"d",(function(){return d})),n.d(e,"j",(function(){return m})),n.d(e,"e",(function(){return f})),n.d(e,"n",(function(){return b})),n.d(e,"k",(function(){return v})),n.d(e,"b",(function(){return _}));var o=n("b775");n("5f87"),n("bc3a"),n("4328");function a(t){return Object(o["a"])({url:"enterprise/home",method:"get",params:t})}function c(t){return Object(o["a"])({url:"hotel/hotel_room/list",method:"get",params:t})}function r(t){return Object(o["a"])({url:"hotel/check_in_traveller/list",method:"get",params:t})}function i(t){return Object(o["a"])({url:"hotel/check_in_traveller",method:"delete",data:t})}function l(t){return Object(o["a"])({url:"hotel/check_in_traveller/list",method:"delete",data:t})}function s(t){return Object(o["a"])({url:"hotel/hotel_room/list",method:"delete",data:t})}function u(t){return Object(o["a"])({url:"hotel/check_in_traveller",method:"get",params:t})}function h(t){return Object(o["a"])({url:"hotel/hotel_room",method:"get",params:t})}function d(t){return Object(o["a"])({url:"hotel/check_in_traveller",method:"post",data:t})}function m(t){return Object(o["a"])({url:"hotel/check_in_traveller",method:"put",data:t})}function f(t){return Object(o["a"])({url:"hotel/check_in_traveller",method:"get",params:t})}function b(t){return Object(o["a"])({url:"enterprise/update",method:"post",data:t})}function v(t){return Object(o["a"])({url:"hotel/traveller_hotel_room",method:"put",data:t})}function _(t){return Object(o["a"])({url:"hotel/check_in_traveller/list",method:"put",data:t})}}}]);
//# sourceMappingURL=chunk-4f0b60cd.e9b87422.js.map